{% extends "base.html" %}

{% block page_title %}
Search
{% endblock page_title %}

{% block search-bar %}
{% endblock search-bar %}

{% block content %}
<div class="h-full">
    <div
        class="container lg:w-5/12 md:w-1/2 xl:w-1/4 mx-auto my-20 flex flex-col items-center border p-6 border-gray-400">
        <form method="get" action="{% url "rooms:search" %}">
            {{form.as_p}}
            <button class="btn bg-red-500 text-white mt-5">Search</button>
        </form>
    </div>


    <div class="container mx-auto pb-10 flex flex-col items-center">
        <h3 class="mb-12 text-2xl">Results</h3>
        <div class="flex -mx-40 mb-10">
            {% for room in rooms %}
            <div class="w-full mb-10 px-2">
                <a href="{% url 'rooms:detail' room.pk %}">
                    <div class="w-full h-64 bg-cover bg-center rounded-lg mb-2"
                        style="background-image: url({{room.first_photo}});">
                    </div>
                    <div class="flex justify-between mb-2">
                        <div class="w-1/2 block truncate overflos-hidden flex">
                            {% if room.host.superhost %}
                            <span
                                class="mr-2 uppercase font-medium text-xs border border-black text-black rounded py-px px-1">superhost</span>
                            {% endif %}
                            <span class="text-sm text-gray-600 block truncate font-light">{{room.city}},
                                {{room.country.name}}</span>
                        </div>
                        <span class="text-sm flex items-center">
                            <i class="fas fa-star text-red-500 text-xs mr-px"></i> {{room.total_rating}}
                        </span>

                    </div>
                    <span class="text-black w-11/12 block truncate">
                        {{room.name}}
                    </span>
                </a>
            </div>
            {% endfor %}
        </div>
    </div>
</div>


{% endblock content %}